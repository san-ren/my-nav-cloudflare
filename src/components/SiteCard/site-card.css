/* 基础 Markdown 样式 */
.detail-markdown p { margin-bottom: 0.5rem; }
.detail-markdown p:last-child { margin-bottom: 0; }
.detail-markdown ul { list-style-type: disc; padding-left: 1.2em; margin-bottom: 0.5rem; }
.detail-markdown li { margin-bottom: 0.2rem; }
.detail-markdown a { color: #3b82f6; text-decoration: underline; }
.detail-markdown del { text-decoration: line-through; opacity: 0.7; }

/* 流光动画 */
@keyframes beamFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* 使用 ::after 伪元素创建流光层 */
.site-card-wrapper a::after {
    content: "";
    position: absolute;
    inset: -1.5px;
    z-index: 50; 
    border-radius: 12px;
    padding: 1.5px;
    
    background: linear-gradient(
        60deg,
        transparent 20%,
        rgba(79, 70, 229, 0) 35%, 
        rgba(79, 70, 229, 1) 45%,
        rgba(168, 85, 247, 1) 50%,
        rgba(236, 72, 153, 1) 55%,
        rgba(236, 72, 153, 0) 65%,
        transparent 80%
    );
    background-size: 300% 300%;
    
    /* 遮罩魔法：中间镂空 (已修复兼容性警告) */
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    filter: drop-shadow(0 0 2px rgba(168, 85, 247, 0.5));
}

/* 激活状态 */
.site-card-wrapper.flow-active a::after {
    opacity: 1;
    animation: beamFlow 2.5s ease infinite;
}

/* 暗色模式优化 */
:global(.dark) .site-card-wrapper a::after {
    filter: drop-shadow(0 0 3px rgba(168, 85, 247, 0.8));
}

/* ============================================
   资源状态样式 - 视觉降级
   ============================================ */

/* 长期未更新状态 - 变灰，hover 恢复 */
.site-card-wrapper.resource-stale {
    position: relative;
}

.site-card-wrapper.resource-stale::before {
    content: "⚠️";
    position: absolute;
    top: 4px;
    right: 4px;
    font-size: 10px;
    z-index: 100;
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.site-card-wrapper.resource-stale:hover::before {
    opacity: 1;
}

/* 失效状态 - 彻底变灰，加删除线 */
.site-card-wrapper.resource-failed {
    position: relative;
}

.site-card-wrapper.resource-failed::before {
    content: "❌";
    position: absolute;
    top: 4px;
    right: 4px;
    font-size: 10px;
    z-index: 100;
}

/* 失效卡片标题删除线效果 */
.site-card-wrapper.resource-failed h3 {
    text-decoration: line-through;
    text-decoration-color: rgba(239, 68, 68, 0.5);
}

/* 暗色模式下的状态样式优化 */
:global(.dark) .site-card-wrapper.resource-stale::before,
:global(.dark) .site-card-wrapper.resource-failed::before {
    filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.5));
}
